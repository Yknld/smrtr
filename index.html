<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-slot="lectureTitle">Linear Regression Essentials</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Top Sticky Progress Bar -->
    <div class="progress-bar-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Top Global Navigation -->
    <nav class="global-nav">
        <div class="nav-left">
            <a href="#" class="nav-link">Home</a>
            <a href="#" class="nav-link">Search</a>
            <a href="#" class="nav-link">Booklists</a>
            <a href="#" class="nav-link">Settings</a>
        </div>
        <div class="nav-right">
            <button class="icon-btn" aria-label="Search">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
            </button>
            <div class="user-avatar" aria-label="User profile"></div>
        </div>
    </nav>

    <!-- Left Sticky Mini Navigation (Desktop) -->
    <nav class="mini-nav" id="miniNav">
        <a href="#section-0" class="mini-nav-item" data-section="0" title="Hero">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        </a>
        <a href="#section-1" class="mini-nav-item" data-section="1" title="Video & Animation">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="23 7 16 12 23 17 23 7"></polygon>
                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
            </svg>
        </a>
        <a href="#section-2" class="mini-nav-item" data-section="2" title="Lecture Notes">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
        </a>
        <a href="#section-3" class="mini-nav-item" data-section="3" title="Interactive Diagram">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="2" x2="12" y2="6"></line>
                <line x1="12" y1="18" x2="12" y2="22"></line>
                <line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line>
                <line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line>
                <line x1="2" y1="12" x2="6" y2="12"></line>
                <line x1="18" y1="12" x2="22" y2="12"></line>
                <line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line>
                <line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>
            </svg>
        </a>
        <a href="#section-4" class="mini-nav-item" data-section="4" title="Quiz">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
        </a>
        <a href="#section-5" class="mini-nav-item" data-section="5" title="Wrap Up">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 11 12 14 22 4"></polyline>
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
            </svg>
        </a>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Section 0: Hero/Header -->
        <section id="section-0" class="lecture-section hero-section">
            <div class="breadcrumbs" data-slot="breadcrumbs"></div>
            <h1 class="lecture-title" data-slot="lectureTitle">Linear Regression Essentials</h1>
            <div class="lecture-meta">
                <div class="rating" data-slot="rating"></div>
                <div class="lecture-info" data-slot="lectureInfo"></div>
            </div>
            <div class="lecture-description" data-slot="lectureDescription"></div>
            <div class="section-nav">
                <button class="nav-arrow" id="prevLecture" aria-label="Previous lecture">‹</button>
                <button class="nav-arrow" id="nextLecture" aria-label="Next lecture">›</button>
            </div>
        </section>

        <!-- Section 1: Video & Animation + Checkpoint -->
        <section id="section-1" class="lecture-section">
            <div class="section-header">
                <h2 class="section-title">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="23 7 16 12 23 17 23 7"></polygon>
                        <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                    </svg>
                    Video & Animation
                </h2>
            </div>
            <div class="video-checkpoint-grid">
                <div class="video-container">
                    <div class="video-wrapper" data-slot="video"></div>
                    <button class="replay-btn" id="replayVideo">Replay Animation</button>
                </div>
                <div class="checkpoint-card">
                    <h3 class="checkpoint-title">What You'll Learn</h3>
                    <ul class="checkpoint-list" data-slot="checkpoint"></ul>
                </div>
            </div>
        </section>

        <!-- Section 2: Lecture Notes -->
        <section id="section-2" class="lecture-section">
            <div class="section-header">
                <h2 class="section-title">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                    Lecture Notes
                </h2>
            </div>
            <div class="notes-container" data-slot="notes"></div>
        </section>

        <!-- Section 3: Interactive Diagram -->
        <section id="section-3" class="lecture-section">
            <div class="section-header">
                <h2 class="section-title">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="2" x2="12" y2="6"></line>
                        <line x1="12" y1="18" x2="12" y2="22"></line>
                    </svg>
                    Interactive Diagram
                </h2>
            </div>
            <div class="diagram-container">
                <div class="diagram-wrapper" data-slot="diagram"></div>
                <div class="diagram-controls" data-slot="diagramControls"></div>
            </div>
            <div class="try-it-instructions" data-slot="tryItInstructions"></div>
            <div class="section-nav-bottom">
                <button class="nav-link-btn" id="backToNotes">← Back: Lecture Notes</button>
                <button class="replay-btn" id="replayDiagram">Replay Animation</button>
                <button class="nav-link-btn" id="nextToQuiz">Next: Quiz →</button>
            </div>
        </section>

        <!-- Section 4: Quiz -->
        <section id="section-4" class="lecture-section">
            <div class="section-header">
                <h2 class="section-title">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="16" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                    Quiz
                </h2>
            </div>
            <div class="quiz-container" data-slot="quiz"></div>
        </section>

        <!-- Section 5: Wrap Up -->
        <section id="section-5" class="lecture-section">
            <div class="section-header">
                <h2 class="section-title">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9 11 12 14 22 4"></polyline>
                        <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                    </svg>
                    Wrap Up
                </h2>
            </div>
            <div class="wrapup-container" data-slot="wrapUp"></div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="app.js"></script>
    <script>
        // Load sample data if window.__LECTURE_DATA__ is not set
        if (typeof window.__LECTURE_DATA__ === 'undefined') {
            fetch('sample-data.json')
                .then(response => response.json())
                .then(data => {
                    window.__LECTURE_DATA__ = data;
                    console.log('Data loaded, initializing app...');
                    // App will auto-initialize when data is set (handled in app.js)
                    if (window.initApp) {
                        window.initApp();
                    } else {
                        console.error('initApp function not found!');
                    }
                })
                .catch(error => {
                    console.error('Error loading sample data:', error);
                    // Initialize anyway with empty data
                    if (window.initApp) {
                        window.initApp();
                    }
                });
        } else {
            // Data already set, initialize
            if (window.initApp) {
                window.initApp();
            }
        }
    </script>
</body>
</html>
